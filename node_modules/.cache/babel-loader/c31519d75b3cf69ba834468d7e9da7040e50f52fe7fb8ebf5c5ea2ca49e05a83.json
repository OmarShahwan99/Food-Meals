{"ast":null,"code":"import _objectSpread from\"/media/omar/special/New React Projects/food meals project/Food-Meals/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/media/omar/special/New React Projects/food meals project/Food-Meals/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import Card from'../UI/Card';import classes from'./AvailableMeals.module.css';import MealItem from'./MealItem/MealItem';import ReactDOM from'react-dom';import{Backdrop}from'../UI/Modal';import Loading from'../UI/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AvailableMeals=function AvailableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var fetchMeals=function fetchMeals(){setIsLoading(true);fetch('https://meals-project-e557d-default-rtdb.firebaseio.com/meals.json').then(function(res){console.log(res);if(!res.ok){throw new Error('Some thing went wrong!');}return res.json();}).then(function(data){var loadedMeals=[];for(var mealKey in data){loadedMeals.push(_objectSpread({id:mealKey},data[mealKey]));}setIsLoading(false);setMeals(loadedMeals);}).catch(function(error){setIsLoading(false);setError(error.message);});};useEffect(function(){fetchMeals();},[]);var content=/*#__PURE__*/_jsx(\"p\",{children:\"Found no meals\"});if(isLoading){content=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(Backdrop,{}),document.getElementById('overlays')),/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(Loading,{}),document.getElementById('overlays'))]});}if(meals.length>0&&!isLoading){content=/*#__PURE__*/_jsx(Card,{className:classes['meals-list'],children:/*#__PURE__*/_jsx(\"ul\",{children:meals.map(function(meal){return/*#__PURE__*/_jsx(MealItem,{id:meal.id,name:meal.name,description:meal.description,price:meal.price},meal.id);})})});}if(error){content=/*#__PURE__*/_jsx(Card,{className:classes['meals-list'],children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:error})});}return content;};export default AvailableMeals;","map":{"version":3,"names":["useEffect","useState","Card","classes","MealItem","ReactDOM","Backdrop","Loading","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AvailableMeals","_useState","_useState2","_slicedToArray","meals","setMeals","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","fetchMeals","fetch","then","res","console","log","ok","Error","json","data","loadedMeals","mealKey","push","_objectSpread","id","catch","message","content","children","createPortal","document","getElementById","length","className","map","meal","name","description","price","style","textAlign"],"sources":["/media/omar/special/New React Projects/food meals project/Food-Meals/src/components/Meals/AvailableMeals.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Card from '../UI/Card';\nimport classes from './AvailableMeals.module.css';\nimport MealItem from './MealItem/MealItem';\nimport ReactDOM from 'react-dom';\nimport { Backdrop } from '../UI/Modal';\nimport Loading from '../UI/Loading';\n\nconst AvailableMeals = () => {\n    const [meals, setMeals] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const fetchMeals = () => {\n        setIsLoading(true);\n        fetch('https://meals-project-e557d-default-rtdb.firebaseio.com/meals.json')\n            .then(res => {\n                console.log(res);\n                if (!res.ok) {\n                    throw new Error('Some thing went wrong!');\n                }\n                return res.json()\n            })\n            .then(data => {\n                const loadedMeals = [];\n                for (const mealKey in data) {\n                    loadedMeals.push({\n                        id: mealKey,\n                        ...data[mealKey]\n                    })\n                }\n                setIsLoading(false);\n                setMeals(loadedMeals);\n            })\n            .catch(error => {\n                setIsLoading(false);\n                setError(error.message);\n            })\n        };\n    \n    useEffect(() => {\n        fetchMeals();\n    }, []);\n\n    let content = <p>Found no meals</p>;\n\n    if (isLoading) {\n        content =\n            <>\n                {ReactDOM.createPortal(<Backdrop />, document.getElementById('overlays'))}\n                {ReactDOM.createPortal(<Loading />, document.getElementById('overlays'))}\n            </>\n    }\n\n    if (meals.length > 0 && !isLoading) {\n        content =\n            <Card className={classes['meals-list']}>\n                <ul>{meals.map(meal =>\n                <MealItem\n                    key={meal.id}\n                    id={meal.id}\n                    name={meal.name}\n                    description={meal.description}\n                    price={meal.price}\n                />)}</ul>\n            </Card>\n    }\n\n    if (error) {\n        content =\n            <Card className={classes['meals-list']}>\n                <p style={{ textAlign: 'center' }}>{error}</p>\n            </Card>\n    }\n\n    return content;\n}\n\nexport default AvailableMeals;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}